"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[842],{3204:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var o=t(1413),n=t(5671),i=t(3144),r=t(9340),a=t(5716),l=t(2791),u=t(885),c="ProfileInfo_profile_info__H3D-z",d="ProfileInfo_avatar__OJq4I",f="ProfileInfo_info__blXPI",p="ProfileInfo_name__adacu",h="ProfileInfo_about__pyyvZ",j="ProfileInfo_job__S9tI2",x=t(1259),v=t(4407),b=t(184),m=function(e){var s=(0,l.useState)(!1),t=(0,u.Z)(s,2),o=t[0],n=t[1],i=(0,l.useState)(e.status),r=(0,u.Z)(i,2),a=r[0],c=r[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,b.jsx)("div",{children:o?(0,b.jsx)("div",{children:(0,b.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,value:a||"",onBlur:function(){n(!1),e.updateStatus(a)}})}):(0,b.jsx)("div",{children:(0,b.jsx)("span",{onDoubleClick:function(){e.isOwner&&n(!0)},children:e.status?e.status:"No status"})})})},P=t(3896),_=function(e){var s=e.contactTitle,t=e.contactValue,n=e.register;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("b",{children:[s,": "]}),(0,b.jsx)("input",(0,o.Z)({type:"text",defaultValue:t},n("contacts."+s,{required:!1})))]})},g=function(e){var s=e.profile,t=e.setEditMode,n=e.saveProfileInfo,i=(0,P.cI)(),r=i.register,a=i.handleSubmit;return(0,b.jsx)("div",{children:(0,b.jsxs)("form",{onSubmit:a((function(e){s&&(e.fullName=s.fullName),n(e).then((function(){return t(!1)}))})),children:[(0,b.jsxs)("div",{className:h,children:[(0,b.jsx)("b",{children:"About me: "}),(0,b.jsx)("input",(0,o.Z)((0,o.Z)({type:"text"},r("aboutMe",{required:!1})),{},{defaultValue:s.aboutMe,onBlur:function(){},placeholder:"About Me"}))]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Looking for a job: "}),(0,b.jsx)("input",(0,o.Z)({type:"checkbox",defaultChecked:s.lookingForAJob},r("lookingForAJob",{required:!1})))]}),(0,b.jsxs)("div",{className:j,children:[(0,b.jsx)("b",{children:"Soft skills: "}),(0,b.jsx)("input",(0,o.Z)((0,o.Z)({type:"text"},r("lookingForAJobDescription",{required:!1})),{},{defaultValue:s.lookingForAJobDescription,onBlur:function(){},placeholder:"Soft skills"}))]}),Object.keys(s.contacts).map((function(e){return(0,b.jsx)(_,{register:r,contactTitle:e,contactValue:s.contacts[e]},e)})),(0,b.jsx)("button",{children:"Done"})]})})},k=function(e){var s=e.contactTitle,t=e.contactValue;return(0,b.jsx)("div",{children:t?(0,b.jsxs)("div",{children:[(0,b.jsxs)("b",{children:[s,": "]}),(0,b.jsx)("a",{href:t,children:t})]}):null})},I=function(e){var s=e.profile,t=e.isOwner,o=e.goToEditMode;return(0,b.jsxs)(b.Fragment,{children:[t?(0,b.jsx)("button",{onClick:o,children:"edit"}):null,s.aboutMe?(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"About me: "}),(0,b.jsx)("span",{className:h,children:s.aboutMe})]}):null,(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Looking for a job: "}),s.lookingForAJob?"Yes":"No"]}),s.lookingForAJob?(0,b.jsxs)("div",{className:j,children:[(0,b.jsx)("b",{children:"Soft skills: "}),s.lookingForAJob?s.lookingForAJobDescription:null]}):null,Object.keys(s.contacts).map((function(e){return(0,b.jsx)(k,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})},S=function(e){var s=e.profile,t=e.status,o=e.updateStatus,n=e.isOwner,i=e.savePhoto,r=e.saveProfileInfo,a=(0,l.useState)(!1),h=(0,u.Z)(a,2),j=h[0],P=h[1];if(!s)return(0,b.jsx)(v.Z,{});return(0,b.jsxs)("div",{className:c,children:[(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("img",{src:null!=s.photos.large?s.photos.large:x,alt:""}),(0,b.jsx)("div",{children:n?(0,b.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])}}):null})]}),(0,b.jsxs)("div",{className:f,children:[(0,b.jsx)("div",{className:p,children:s.fullName}),(0,b.jsx)(m,{status:t,updateStatus:o,isOwner:n}),j?(0,b.jsx)(g,{profile:s,setEditMode:P,saveProfileInfo:r}):(0,b.jsx)(I,{profile:s,isOwner:n,goToEditMode:function(){return P(!0)}})]})]})},N=t(6407),Z="MyPosts_text__-+Ipi",y="MyPosts_newPost__B4LFh",M="MyPosts_postsBlock__2WPjJ",A="MyPosts_posts__ct9Vp",w="Post_item__qURPC",D=t.p+"static/media/post_avatar.884b5b68052ea553bbb7.png",F=function(e){return(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:w,children:[(0,b.jsx)("img",{src:D,alt:""}),e.message,(0,b.jsx)("div",{children:(0,b.jsxs)("span",{children:["like count: ",e.likes]})})]})})},C=function(e){var s=e.posts,t=e.addPost,n=(0,P.cI)(),i=n.register,r=n.handleSubmit,a=n.reset,l=s.map((function(e){return(0,b.jsx)(F,{message:e.message,likes:e.likesCount},e.id)}));return(0,b.jsxs)("div",{className:M,children:[(0,b.jsx)("h3",{className:Z,children:"My posts"}),(0,b.jsxs)("form",{onSubmit:r((function(e){t(e.post),a()})),children:[(0,b.jsxs)("div",{className:y,children:[(0,b.jsx)("div",{children:(0,b.jsx)("textarea",(0,o.Z)({},i("post",{required:!0})))}),(0,b.jsx)("div",{children:(0,b.jsx)("button",{children:"Add post"})})]}),(0,b.jsx)("div",{className:A,children:l})]})]})},J=t(8687),O=(0,J.$j)((function(e){return{posts:e.profilePage.posts}}),{addPost:N.Nw.addPost})(C),q=function(e){return(0,b.jsxs)("div",{children:[(0,b.jsx)(S,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfileInfo:e.saveProfileInfo}),(0,b.jsx)(O,{})]})},V=t(1623),T=t(7781),B=t(166),E=function(e){(0,r.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,n.Z)(this,t),s.apply(this,arguments)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userID;e||(e=27510),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return(0,b.jsx)(q,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userID,savePhoto:this.props.savePhoto,saveProfileInfo:this.props.saveProfileInfo}))}}]),t}(l.Component),z=(0,T.qC)((0,J.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status}}),{getProfile:N.Ai,getStatus:N.lR,updateStatus:N.Nf,savePhoto:N.Ju,saveProfileInfo:N.FX}),B.Z,V.Z)(E)}}]);
//# sourceMappingURL=842.35bb6561.chunk.js.map