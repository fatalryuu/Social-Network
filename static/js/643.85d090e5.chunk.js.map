{"version":3,"file":"static/js/643.85d090e5.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","webpack://social-network/./src/components/ChatPage/ChatPage.module.css?e0ec","components/ChatPage/Chat/Messages/Message/Message.tsx","components/ChatPage/Chat/Messages/Messages.tsx","components/ChatPage/Chat/SendMessageForm/SendMessageForm.tsx","components/ChatPage/Chat/Chat.tsx","components/ChatPage/ChatPage.tsx","../node_modules/@mui/icons-material/Send.js"],"sourcesContent":["export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure \" + obj);\n}","// extracted by mini-css-extract-plugin\nexport default {\"chat_wrapper\":\"ChatPage_chat_wrapper__TQhCX\",\"upper\":\"ChatPage_upper__QCay8\",\"messages\":\"ChatPage_messages__oW0c0\",\"message\":\"ChatPage_message__aNBdK\",\"message_header\":\"ChatPage_message_header__zRLJC\",\"name_message\":\"ChatPage_name_message__qb1Nt\",\"message_text\":\"ChatPage_message_text__2jZQ-\",\"send_form\":\"ChatPage_send_form__9NtQM\"};","import React from 'react';\r\nimport s from '../../../ChatPage.module.css'\r\nimport {ChatMessageType} from \"../../../../../api/chat-api\";\r\nimport avatar from '../../../../../img/post_avatar.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../../../redux/store\";\r\n\r\nconst Message: React.FC<{ message: ChatMessageType }> = ({message}) => {\r\n    const authID = useSelector((state: AppStateType) => state.auth.userID);\r\n    const profileURL = '/profile' + (message.userId !== authID ? '/' + message.userId.toString() : '');\r\n    return (\r\n        <div className={s.message}>\r\n            <div className={s.message_header}>\r\n                <NavLink to={profileURL}><img\r\n                    src={message.photo !== null ? message.photo : avatar}\r\n                    alt=\"\"/></NavLink>\r\n                <div className={s.name_message}>\r\n                    <NavLink\r\n                        to={profileURL}><b>{message.userName}</b></NavLink>\r\n                    <div className={s.message_text}>{message.message}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Message;","import React, {useEffect, useRef} from 'react';\r\nimport Message from \"./Message/Message\";\r\nimport {ChatMessageType} from \"../../../../api/chat-api\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../../redux/store\";\r\nimport s from '../../ChatPage.module.css'\r\n\r\nconst Messages: React.FC<{}> = ({}) => {\r\n    const messages = useSelector((state: AppStateType) => state.chat.messages);\r\n    debugger;\r\n    const messagesAnchorRef = useRef<HTMLDivElement>(null);\r\n    useEffect(() => {\r\n        messagesAnchorRef.current?.scrollIntoView(true);\r\n    }, [messages]);\r\n    return (\r\n        <div className={s.messages}>\r\n            {messages.map((m: ChatMessageType, index: number) => <Message message={m} key={index}/>)}\r\n            <div ref={messagesAnchorRef}></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Messages;","import React, {useEffect, useState} from 'react';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppDispatch, AppStateType} from \"../../../../redux/store\";\r\nimport {sendMessage} from \"../../../../redux/chatReducer\";\r\nimport s from '../../ChatPage.module.css'\r\n\r\nconst SendMessageForm: React.FC<{}> = ({}) => {\r\n    const [message, setMessage] = useState('');\r\n    const status = useSelector((state: AppStateType) => state.chat.status);\r\n    const dispatch: AppDispatch = useDispatch();\r\n\r\n    const sendMessageHandler = () => {\r\n        if (!message)\r\n            return;\r\n        dispatch(sendMessage(message));\r\n        setMessage('');\r\n    }\r\n\r\n    const handleKeyPress = (e: any) => {\r\n        if (e.key === 'Enter')\r\n            sendMessageHandler();\r\n    }\r\n\r\n    return (\r\n        <div className={s.send_form}>\r\n            <div>\r\n                <input onChange={(e) => setMessage(e.currentTarget.value)} value={message} autoFocus onKeyPress={handleKeyPress}\r\n                       placeholder='Write a message...'/>\r\n            </div>\r\n            <button disabled={status !== \"ready\"} onClick={sendMessageHandler} type=\"submit\"><SendIcon/></button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SendMessageForm;","import React, {useEffect, useState} from 'react';\r\nimport Messages from \"./Messages/Messages\";\r\nimport SendMessageForm from \"./SendMessageForm/SendMessageForm\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {startMessagesListening, stopMessagesListening} from \"../../../redux/chatReducer\";\r\nimport {AppDispatch, AppStateType} from \"../../../redux/store\";\r\nimport {chatAPI} from \"../../../api/chat-api\";\r\n\r\nconst Chat: React.FC = () => {\r\n    const dispatch: AppDispatch = useDispatch();\r\n    const status = useSelector((state: AppStateType) => state.chat.status);\r\n    useEffect(() => {\r\n        dispatch(startMessagesListening());\r\n        return () => {\r\n            dispatch(stopMessagesListening());\r\n        }\r\n    }, []);\r\n    return (\r\n        <div>\r\n            {status === 'error' && <div style={{color: 'red'}}>Some error occurred. Please refresh the page</div>}\r\n            <Messages/>\r\n            <SendMessageForm/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chat;","import React from 'react';\r\nimport Chat from \"./Chat/Chat\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport s from './ChatPage.module.css'\r\n\r\nconst ChatPage: React.FC = () => {\r\n    const isAuth = useSelector((state: AppStateType) => state.auth.isAuth);\r\n    return <div className={s.chat_wrapper}>\r\n        <div className={s.upper}>General Chat</div>\r\n        {!isAuth ? <Navigate to={'/login'}/> : <Chat />}\r\n    </div>\r\n};\r\n\r\nexport default ChatPage;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\nexports.default = _default;"],"names":["_objectDestructuringEmpty","obj","TypeError","message","authID","useSelector","state","auth","userID","profileURL","userId","toString","className","s","to","src","photo","avatar","alt","userName","messages","chat","messagesAnchorRef","useRef","useEffect","current","scrollIntoView","map","m","index","ref","useState","setMessage","status","dispatch","useDispatch","sendMessageHandler","sendMessage","onChange","e","currentTarget","value","autoFocus","onKeyPress","key","placeholder","disabled","onClick","type","Send","startMessagesListening","stopMessagesListening","style","color","isAuth","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}