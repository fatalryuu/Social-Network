"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[823],{1364:function(e,s,t){t.r(s),t.d(s,{default:function(){return Q}});var o=t(1413),i=t(5671),n=t(3144),r=t(9340),l=t(8557),a=t(2791),c=t(9439),u={profile_info:"ProfileInfo_profile_info__NakLG",avatar:"ProfileInfo_avatar__v3lLj",image:"ProfileInfo_image__DDweF",fileUpload:"ProfileInfo_fileUpload__-oFCM",buttons:"ProfileInfo_buttons__siaCO",edit:"ProfileInfo_edit__m8BFh",edit_disabled:"ProfileInfo_edit_disabled__p-8nP",upload:"ProfileInfo_upload__N-5kY",icon:"ProfileInfo_icon__vGOUM",info:"ProfileInfo_info__miP9O",editing:"ProfileInfo_editing__iNnOh",upper:"ProfileInfo_upper__H6yAG",name:"ProfileInfo_name__3FB6v",status:"ProfileInfo_status__SkwpM",form:"ProfileInfo_form__97k-R",columns:"ProfileInfo_columns__5WXEc",labels:"ProfileInfo_labels__1SqGr",inputs:"ProfileInfo_inputs__chCEy",contact_input:"ProfileInfo_contact_input__J+vK8",about:"ProfileInfo_about__Q+iRk",soft_skills:"ProfileInfo_soft_skills__lWm1D",contact:"ProfileInfo_contact__4JCMo"},d=t.p+"static/media/post_avatar_big.388d1d56110005d55708.png",f=t(4407),_=t(184),h=function(e){var s=(0,a.useState)(!1),t=(0,c.Z)(s,2),o=t[0],i=t[1],n=(0,a.useState)(e.status),r=(0,c.Z)(n,2),l=r[0],u=r[1];(0,a.useEffect)((function(){u(e.status)}),[e.status]);return(0,_.jsx)("div",{children:o?(0,_.jsx)("div",{children:(0,_.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:l||"",onBlur:function(){i(!1),e.updateStatus(l)}})}):(0,_.jsx)("div",{children:(0,_.jsx)("span",{onDoubleClick:function(){e.isOwner&&i(!0)},children:e.status?e.status:"No status"})})})},p=t(5290),m=function(e){var s=e.contactTitle;e.contactValue,e.register;return(0,_.jsx)("div",{children:(0,_.jsxs)("b",{children:[s,": "]})})},j=function(e){var s=e.contactTitle,t=e.contactValue,i=e.register;return(0,_.jsx)("div",{children:(0,_.jsx)("input",(0,o.Z)({className:u.contact_input,type:"text",defaultValue:t},i("contacts."+s,{required:!1})))})},v=t(1428),x=function(e){var s=e.profile,t=e.setEditMode,i=e.setIsEnabled,n=e.saveProfileInfo,r=(0,p.cI)(),l=r.register,a=r.handleSubmit;return(0,_.jsx)("div",{children:(0,_.jsxs)("form",{onSubmit:a((function(e){s&&(e.fullName=s.fullName),n(e).then((function(){return t(!1)}))})),className:u.form,children:[(0,_.jsxs)("div",{className:"".concat(u.columns," ").concat(u.labels),children:[(0,_.jsx)("div",{children:(0,_.jsx)("b",{children:"About me: "})}),(0,_.jsx)("div",{children:(0,_.jsx)("b",{children:"Looking for a job: "})}),(0,_.jsx)("div",{children:(0,_.jsx)("b",{children:"Soft skills: "})}),Object.keys(s.contacts).map((function(e){return(0,_.jsx)(m,{register:l,contactTitle:e,contactValue:s.contacts[e]},e)}))]}),(0,_.jsxs)("div",{className:"".concat(u.columns," ").concat(u.inputs),children:[(0,_.jsx)("div",{children:(0,_.jsx)("input",(0,o.Z)((0,o.Z)({type:"text"},l("aboutMe",{required:!1})),{},{defaultValue:s.aboutMe,onBlur:function(){},placeholder:"About Me",className:u.about}))}),(0,_.jsx)("div",{children:(0,_.jsx)("input",(0,o.Z)({type:"checkbox",defaultChecked:s.lookingForAJob},l("lookingForAJob",{required:!1})))}),(0,_.jsx)("div",{children:(0,_.jsx)("input",(0,o.Z)((0,o.Z)({type:"text"},l("lookingForAJobDescription",{required:!1})),{},{defaultValue:s.lookingForAJobDescription,onBlur:function(){},placeholder:"Soft skills",className:u.soft_skills}))}),Object.keys(s.contacts).map((function(e){return(0,_.jsx)(j,{register:l,contactTitle:e,contactValue:s.contacts[e]},e)}))]}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{onClick:function(){return i(!0)},children:(0,_.jsx)(v.Z,{style:{width:"15px"}})})})]})})},P=function(e){var s=e.contactTitle,t=e.contactValue;return(0,_.jsx)("div",{children:t?(0,_.jsxs)("div",{className:u.contact,children:[(0,_.jsxs)("b",{children:[s,": "]}),(0,_.jsx)("a",{href:t,children:t})]}):null})},g=function(e){var s=e.profile;e.isOwner;return(0,_.jsxs)(_.Fragment,{children:[s.aboutMe?(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"About me: "}),(0,_.jsx)("span",{children:s.aboutMe})]}):null,(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{children:"Looking for a job: "}),s.lookingForAJob?"Yes":"No"]}),s.lookingForAJob?(0,_.jsxs)("div",{className:u.job,children:[(0,_.jsx)("b",{children:"Soft skills: "}),s.lookingForAJob?s.lookingForAJobDescription:null]}):null,Object.keys(s.contacts).map((function(e){return(0,_.jsx)(P,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})},b=t(8687),w=t(3993),N=t(9013),k=function(e){var s=e.profile,t=e.status,o=e.updateStatus,i=e.isOwner,n=e.savePhoto,r=e.saveProfileInfo,l=(0,a.useState)(!1),p=(0,c.Z)(l,2),m=p[0],j=p[1],v=(0,a.useState)(!0),P=(0,c.Z)(v,2),k=P[0],I=P[1],Z=(0,b.v9)(w.xu);if(!s)return(0,_.jsx)(f.Z,{});return(0,_.jsxs)("div",{className:u.profile_info,children:[(0,_.jsxs)("div",{className:u.avatar,children:[Z?(0,_.jsx)(f.Z,{}):(0,_.jsxs)("div",{className:u.image,children:[(0,_.jsx)("img",{src:null!==s.photos.large?s.photos.large:d,alt:""}),i?(0,_.jsxs)("span",{className:u.fileUpload,children:[(0,_.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])},className:u.upload,id:"file-input"}),(0,_.jsx)("label",{className:u.icon,htmlFor:"file-input",children:(0,_.jsx)(N.Z,{})})]}):null]}),(0,_.jsx)("div",{className:u.buttons,children:i?(0,_.jsx)("button",{disabled:!k,onClick:function(){j(!0),I(!1)},className:k?u.edit:u.edit_disabled,children:"Edit profile"}):null})]}),(0,_.jsxs)("div",{className:m?u.editing:u.info,children:[(0,_.jsxs)("div",{className:u.upper,children:[(0,_.jsx)("div",{className:u.name,children:s.fullName}),(0,_.jsx)("span",{className:u.status,children:(0,_.jsx)(h,{status:t,updateStatus:o,isOwner:i})})]}),m?(0,_.jsx)(x,{profile:s,setEditMode:j,setIsEnabled:I,saveProfileInfo:r}):(0,_.jsx)(g,{profile:s,isOwner:i})]})]})},I={amount_wrapper_low:"Profile_amount_wrapper_low__t7Y2Y",amount_wrapper_high:"Profile_amount_wrapper_high__7-ejX",amount_string:"Profile_amount_string__CN6wF",amount:"Profile_amount__VyaAZ",upper:"Profile_upper__bkt+O",followed_users_low:"Profile_followed_users_low__pEphI",followed_users_high:"Profile_followed_users_high__Mk9Ug",followed_user:"Profile_followed_user__tc+Rc",followed_name:"Profile_followed_name__+MCbC",followed_string:"Profile_followed_string__g0JIJ",lower:"Profile_lower__meUyG"},Z="MyPosts_form__AR2gf",M="MyPosts_text__2MS39",y="MyPosts_posts__SmsFw",S="MyPosts_newPost__zAF6d",F="MyPosts_posts_block__WYbPj",O="Post_post_wrapper__P23VN",C="Post_first_post__0uYd5",A="Post_upper__bsQs1",D="Post_writer_info__EcQml",J=t(3873),U=function(e){var s=e.postInfo,t=e.last;return(0,_.jsxs)("div",{className:s.id+1!==t?O:C,children:[(0,_.jsxs)("div",{className:A,children:[(0,_.jsx)("a",{href:"",children:(0,_.jsx)("img",{src:null===s.avatarUrl?J:s.avatarUrl,alt:""})}),(0,_.jsxs)("div",{className:D,children:[(0,_.jsx)("div",{children:(0,_.jsx)("a",{href:"",children:s.name})}),(0,_.jsx)("div",{children:s.date})]})]}),(0,_.jsx)("div",{children:s.message}),(0,_.jsx)("div",{children:(0,_.jsxs)("span",{children:["like count: ",s.likesCount]})})]})},V=t(6407),E=function(){var e=(0,p.cI)(),s=e.register,t=e.handleSubmit,i=e.reset,n=(0,b.v9)(w.Jq),r=(0,b.I0)(),l=n.map((function(e){return(0,_.jsx)(U,{postInfo:e,last:n.length},e.id)})).reverse();return(0,_.jsx)("div",{className:F,children:(0,_.jsxs)("form",{onSubmit:t((function(e){r(V.Nw.addPost(e.post)),i()})),className:Z,children:[(0,_.jsxs)("div",{className:S,children:[(0,_.jsx)("div",{children:(0,_.jsx)("input",(0,o.Z)({type:"text",placeholder:"Type here...",autoComplete:"off"},s("post",{required:!0})))}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{children:"Add post"})})]}),(0,_.jsx)("div",{className:M,children:"All posts"}),(0,_.jsx)("div",{className:y,children:l})]})})},q=t(3504),z=function(e){var s=e.user,t=s.name;return s.name.length>7&&(t=s.name.slice(0,6)+"..."),(0,_.jsxs)("div",{className:I.followed_user,children:[(0,_.jsx)("div",{className:I.followed_avatar,children:(0,_.jsx)(q.OL,{to:"/profile/"+s.id,children:(0,_.jsx)("img",{src:null!==s.photos.small?s.photos.small:J,alt:""})})}),(0,_.jsx)("div",{className:I.followed_name,children:(0,_.jsx)(q.OL,{to:"/profile/"+s.id,children:t})})]})},L=function(e){var s=(0,b.v9)(w.q2),t=(0,b.v9)(w.kk),o=[],i=[];if(t.length>6)for(var n=0;n<6;n++){for(var r=Math.floor(Math.random()*t.length);i.includes(r);)r=Math.floor(Math.random()*t.length);i.push(r),o.push(t[r])}else t.map((function(e){return o.push(e)}));return(0,_.jsxs)("div",{children:[(0,_.jsx)(k,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfileInfo:e.saveProfileInfo}),e.isOwner?(0,_.jsxs)("div",{className:I.lower,children:[(0,_.jsx)("div",{className:o.length<4?I.amount_wrapper_low:I.amount_wrapper_high,children:(0,_.jsxs)("div",{className:I.amount_string,children:[(0,_.jsxs)("div",{className:I.upper,children:[(0,_.jsx)("span",{className:I.followed_string,children:"Followed "}),(0,_.jsx)("span",{className:I.amount,children:s})]}),(0,_.jsx)("div",{className:o.length<4?I.followed_users_low:I.followed_users_high,children:o.map((function(e){return(0,_.jsx)(z,{user:e},e.id)}))})]})}),(0,_.jsx)(E,{})]}):null]})},T=t(1623),Y=t(7781),B=t(6871),G=function(e){return function(s){var t={params:(0,B.UO)()};return(0,_.jsx)(e,(0,o.Z)((0,o.Z)({},s),{},{match:t}))}},R=function(e){(0,r.Z)(t,e);var s=(0,l.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userID;e||(e=this.props.authorizedUserID),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return(0,_.jsx)(L,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userID,savePhoto:this.props.savePhoto,saveProfileInfo:this.props.saveProfileInfo}))}}]),t}(a.Component),Q=(0,Y.qC)((0,b.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserID:e.auth.userID}}),{getProfile:V.Ai,getStatus:V.lR,updateStatus:V.Nf,savePhoto:V.Ju,saveProfileInfo:V.FX}),G,T.Z)(R)},1428:function(e,s,t){var o=t(4836);s.Z=void 0;var i=o(t(5649)),n=t(184),r=(0,i.default)((0,n.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");s.Z=r},9013:function(e,s,t){var o=t(4836);s.Z=void 0;var i=o(t(5649)),n=t(184),r=(0,i.default)((0,n.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");s.Z=r}}]);
//# sourceMappingURL=823.e2f11fc6.chunk.js.map