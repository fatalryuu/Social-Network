"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[823],{1364:function(e,s,t){t.r(s),t.d(s,{default:function(){return X}});var o=t(1413),i=t(5671),r=t(3144),n=t(9340),l=t(8557),a=t(2791),c=t(9439),u={profile_info:"ProfileInfo_profile_info__NakLG",avatar:"ProfileInfo_avatar__v3lLj",image:"ProfileInfo_image__DDweF",fileUpload:"ProfileInfo_fileUpload__-oFCM",buttons:"ProfileInfo_buttons__siaCO",edit:"ProfileInfo_edit__m8BFh",edit_disabled:"ProfileInfo_edit_disabled__p-8nP",upload:"ProfileInfo_upload__N-5kY",icon:"ProfileInfo_icon__vGOUM",info:"ProfileInfo_info__miP9O",editing:"ProfileInfo_editing__iNnOh",upper:"ProfileInfo_upper__H6yAG",name:"ProfileInfo_name__3FB6v",status:"ProfileInfo_status__SkwpM",form:"ProfileInfo_form__97k-R",columns:"ProfileInfo_columns__5WXEc",labels:"ProfileInfo_labels__1SqGr",inputs:"ProfileInfo_inputs__chCEy",contact_input:"ProfileInfo_contact_input__J+vK8",about:"ProfileInfo_about__Q+iRk",soft_skills:"ProfileInfo_soft_skills__lWm1D",contact:"ProfileInfo_contact__4JCMo"},d=t.p+"static/media/post_avatar_big.388d1d56110005d55708.png",f=t(4407),_=t(1428),h=t(184),p=function(e){var s=(0,a.useState)(!1),t=(0,c.Z)(s,2),o=t[0],i=t[1],r=(0,a.useState)(e.status),n=(0,c.Z)(r,2),l=n[0],u=n[1];(0,a.useEffect)((function(){u(e.status)}),[e.status]);var d=function(){i(!1),e.updateStatus(l)};return(0,h.jsx)("div",{children:o?(0,h.jsx)("div",{children:(0,h.jsx)("form",{onSubmit:d,children:(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:l||"",onBlur:d}),(0,h.jsx)("button",{type:"submit",children:(0,h.jsx)(_.Z,{style:{width:"10px",height:"10px",padding:0}})})]})})}):(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){e.isOwner&&i(!0)},children:e.status?e.status:"No status"})})})},m=t(5290),j=function(e){var s=e.contactTitle;e.contactValue,e.register;return(0,h.jsx)("div",{children:(0,h.jsxs)("b",{children:[s,": "]})})},x=function(e){var s=e.contactTitle,t=e.contactValue,i=e.register;return(0,h.jsx)("div",{children:(0,h.jsx)("input",(0,o.Z)({className:u.contact_input,placeholder:"Type here...",type:"text",defaultValue:t},i("contacts."+s,{required:!1})))})},v=function(e){var s=e.profile,t=e.setEditMode,i=e.setIsEnabled,r=e.saveProfileInfo,n=(0,m.cI)(),l=n.register,a=n.handleSubmit;return(0,h.jsx)("div",{children:(0,h.jsxs)("form",{onSubmit:a((function(e){s&&(e.fullName=s.fullName),r(e).then((function(){return t(!1)}))})),className:u.form,children:[(0,h.jsxs)("div",{className:"".concat(u.columns," ").concat(u.labels),children:[(0,h.jsx)("div",{children:(0,h.jsx)("b",{children:"About me: "})}),(0,h.jsx)("div",{children:(0,h.jsx)("b",{children:"Looking for a job: "})}),(0,h.jsx)("div",{children:(0,h.jsx)("b",{children:"Soft skills: "})}),Object.keys(s.contacts).map((function(e){return(0,h.jsx)(j,{register:l,contactTitle:e,contactValue:s.contacts[e]},e)}))]}),(0,h.jsxs)("div",{className:"".concat(u.columns," ").concat(u.inputs),children:[(0,h.jsx)("div",{children:(0,h.jsx)("input",(0,o.Z)((0,o.Z)({type:"text"},l("aboutMe",{required:!1})),{},{defaultValue:s.aboutMe,onBlur:function(){},placeholder:"Type here...",className:u.about}))}),(0,h.jsx)("div",{children:(0,h.jsx)("input",(0,o.Z)({type:"checkbox",defaultChecked:s.lookingForAJob,placeholder:"Type here..."},l("lookingForAJob",{required:!1})))}),(0,h.jsx)("div",{children:(0,h.jsx)("input",(0,o.Z)((0,o.Z)({type:"text"},l("lookingForAJobDescription",{required:!1})),{},{defaultValue:s.lookingForAJobDescription,onBlur:function(){},placeholder:"Type here...",className:u.soft_skills}))}),Object.keys(s.contacts).map((function(e){return(0,h.jsx)(x,{register:l,contactTitle:e,contactValue:s.contacts[e]},e)}))]}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{onClick:function(){return i(!0)},children:(0,h.jsx)(_.Z,{style:{width:"15px"}})})})]})})},P=function(e){var s=e.contactTitle,t=e.contactValue;return(0,h.jsx)("div",{children:t?(0,h.jsxs)("div",{className:u.contact,children:[(0,h.jsxs)("b",{children:[s,": "]}),(0,h.jsx)("a",{href:t,children:t})]}):null})},g=function(e){var s=e.profile;e.isOwner;return(0,h.jsxs)(h.Fragment,{children:[s.aboutMe?(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About me: "}),(0,h.jsx)("span",{children:s.aboutMe})]}):null,(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job: "}),s.lookingForAJob?"Yes":"No"]}),s.lookingForAJob?(0,h.jsxs)("div",{className:u.job,children:[(0,h.jsx)("b",{children:"Soft skills: "}),s.lookingForAJob?s.lookingForAJobDescription:null]}):null,Object.keys(s.contacts).map((function(e){return(0,h.jsx)(P,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})},b=t(8687),w=t(3993),N=t(9013),I=function(e){var s=e.profile,t=e.status,o=e.updateStatus,i=e.isOwner,r=e.savePhoto,n=e.saveProfileInfo,l=(0,a.useState)(!1),_=(0,c.Z)(l,2),m=_[0],j=_[1],x=(0,a.useState)(!0),P=(0,c.Z)(x,2),I=P[0],k=P[1],Z=(0,b.v9)(w.xu);if(!s)return(0,h.jsx)(f.Z,{});return(0,h.jsxs)("div",{className:u.profile_info,children:[(0,h.jsxs)("div",{className:u.avatar,children:[Z?(0,h.jsx)(f.Z,{}):(0,h.jsxs)("div",{className:u.image,children:[(0,h.jsx)("img",{src:null!==s.photos.large?s.photos.large:d,alt:""}),i?(0,h.jsxs)("span",{className:u.fileUpload,children:[(0,h.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&r(e.target.files[0])},className:u.upload,id:"file-input"}),(0,h.jsx)("label",{className:u.icon,htmlFor:"file-input",children:(0,h.jsx)(N.Z,{})})]}):null]}),(0,h.jsx)("div",{className:u.buttons,children:i?(0,h.jsx)("button",{disabled:!I,onClick:function(){j(!0),k(!1)},className:I?u.edit:u.edit_disabled,children:"Edit profile"}):null})]}),(0,h.jsxs)("div",{className:m?u.editing:u.info,children:[(0,h.jsxs)("div",{className:u.upper,children:[(0,h.jsx)("div",{className:u.name,children:s.fullName}),(0,h.jsx)("span",{className:u.status,children:(0,h.jsx)(p,{status:t,updateStatus:o,isOwner:i})})]}),m?(0,h.jsx)(v,{profile:s,setEditMode:j,setIsEnabled:k,saveProfileInfo:n}):(0,h.jsx)(g,{profile:s,isOwner:i})]})]})},k={amount_wrapper_low:"Profile_amount_wrapper_low__t7Y2Y",amount_wrapper_high:"Profile_amount_wrapper_high__7-ejX",amount_string:"Profile_amount_string__CN6wF",amount:"Profile_amount__VyaAZ",upper:"Profile_upper__bkt+O",followed_users_low:"Profile_followed_users_low__pEphI",followed_users_high:"Profile_followed_users_high__Mk9Ug",followed_user:"Profile_followed_user__tc+Rc",followed_name:"Profile_followed_name__+MCbC",followed_string:"Profile_followed_string__g0JIJ",lower:"Profile_lower__meUyG"},Z="MyPosts_form__AR2gf",y="MyPosts_text__2MS39",S="MyPosts_posts__SmsFw",M="MyPosts_newPost__zAF6d",C="MyPosts_posts_block__WYbPj",F="Post_post_wrapper__P23VN",O="Post_first_post__0uYd5",A="Post_upper__bsQs1",D="Post_writer_info__EcQml",J="Post_wrap__2h3gm",U="Post_string__rGLHd",T=t(3873),V=t(7237),E=function(e){var s=e.postInfo,t=e.last,o=(0,a.useState)(s.likesCount),i=(0,c.Z)(o,2),r=i[0],n=i[1],l=(0,a.useState)(!1),u=(0,c.Z)(l,2),d=u[0],f=u[1];return(0,h.jsxs)("div",{className:s.id+1!==t?F:O,children:[(0,h.jsxs)("div",{className:A,children:[(0,h.jsx)("a",{href:"",children:(0,h.jsx)("img",{src:null===s.avatarUrl?T:s.avatarUrl,alt:""})}),(0,h.jsxs)("div",{className:D,children:[(0,h.jsx)("div",{children:(0,h.jsx)("a",{href:"",children:s.name})}),(0,h.jsx)("div",{children:s.date})]})]}),(0,h.jsx)("div",{children:s.message}),(0,h.jsx)("div",{children:(0,h.jsxs)("span",{className:J,children:[(0,h.jsx)(V.Z,{style:d?{color:"red",cursor:"pointer"}:{color:"white",cursor:"pointer"},onClick:function(){n(d?r-1:r+1),f(!d)}}),(0,h.jsx)("span",{className:U,children:r})]})})]})},L=t(6407),q=function(){var e=(0,m.cI)(),s=e.register,t=e.handleSubmit,i=e.reset,r=(0,b.v9)(w.Jq),n=(0,b.I0)(),l=r.map((function(e){return(0,h.jsx)(E,{postInfo:e,last:r.length},e.id)})).reverse();return(0,h.jsx)("div",{className:C,children:(0,h.jsxs)("form",{onSubmit:t((function(e){n(L.Nw.addPost(e.post)),i()})),className:Z,children:[(0,h.jsxs)("div",{className:M,children:[(0,h.jsx)("div",{children:(0,h.jsx)("input",(0,o.Z)({type:"text",placeholder:"Type here...",autoComplete:"off"},s("post",{required:!0})))}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]}),(0,h.jsx)("div",{className:y,children:"All posts"}),(0,h.jsx)("div",{className:S,children:l})]})})},z=t(3504),G=function(e){var s=e.user,t=s.name;return s.name.length>7&&(t=s.name.slice(0,6)+"..."),(0,h.jsxs)("div",{className:k.followed_user,children:[(0,h.jsx)("div",{className:k.followed_avatar,children:(0,h.jsx)(z.OL,{to:"/profile/"+s.id,children:(0,h.jsx)("img",{src:null!==s.photos.small?s.photos.small:T,alt:""})})}),(0,h.jsx)("div",{className:k.followed_name,children:(0,h.jsx)(z.OL,{to:"/profile/"+s.id,children:t})})]})},Y=function(e){var s=(0,b.v9)(w.q2),t=(0,b.v9)(w.kk),o=[],i=[];if(t.length>6)for(var r=0;r<6;r++){for(var n=Math.floor(Math.random()*t.length);i.includes(n);)n=Math.floor(Math.random()*t.length);i.push(n),o.push(t[n])}else t.map((function(e){return o.push(e)}));return(0,h.jsxs)("div",{children:[(0,h.jsx)(I,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfileInfo:e.saveProfileInfo}),e.isOwner?(0,h.jsxs)("div",{className:k.lower,children:[(0,h.jsx)("div",{className:o.length<4?k.amount_wrapper_low:k.amount_wrapper_high,children:(0,h.jsxs)("div",{className:k.amount_string,children:[(0,h.jsxs)("div",{className:k.upper,children:[(0,h.jsx)("span",{className:k.followed_string,children:"Followed "}),(0,h.jsx)("span",{className:k.amount,children:s})]}),(0,h.jsx)("div",{className:o.length<4?k.followed_users_low:k.followed_users_high,children:o.map((function(e){return(0,h.jsx)(G,{user:e},e.id)}))})]})}),(0,h.jsx)(q,{})]}):null]})},B=t(1623),R=t(7781),H=t(6871),Q=function(e){return function(s){var t={params:(0,H.UO)()};return(0,h.jsx)(e,(0,o.Z)((0,o.Z)({},s),{},{match:t}))}},W=function(e){(0,n.Z)(t,e);var s=(0,l.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userID;e||(e=this.props.authorizedUserID),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(Y,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userID,savePhoto:this.props.savePhoto,saveProfileInfo:this.props.saveProfileInfo}))}}]),t}(a.Component),X=(0,R.qC)((0,b.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserID:e.auth.userID}}),{getProfile:L.Ai,getStatus:L.lR,updateStatus:L.Nf,savePhoto:L.Ju,saveProfileInfo:L.FX}),Q,B.Z)(W)},1428:function(e,s,t){var o=t(4836);s.Z=void 0;var i=o(t(5649)),r=t(184),n=(0,i.default)((0,r.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");s.Z=n},7237:function(e,s,t){var o=t(4836);s.Z=void 0;var i=o(t(5649)),r=t(184),n=(0,i.default)((0,r.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");s.Z=n},9013:function(e,s,t){var o=t(4836);s.Z=void 0;var i=o(t(5649)),r=t(184),n=(0,i.default)((0,r.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");s.Z=n}}]);
//# sourceMappingURL=823.cfe1a33b.chunk.js.map